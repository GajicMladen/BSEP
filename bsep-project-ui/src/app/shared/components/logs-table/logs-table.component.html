<form [formGroup]="form">
  <mat-form-field>
    <mat-label>Kuća</mat-label>
    <mat-select (selectionChange)="realestateChanged()" formControlName="realestate">
      <mat-option *ngFor="let r of realestates" [value]="r.id">
        {{r.address}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  
  <mat-form-field>
    <mat-label>Uredjaj</mat-label>
    <mat-select formControlName="device" (selectionChange)="filterLogs()">
      <mat-option *ngFor="let d of devices" [value]="d.deviceID" >
        {{d.description}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Enter a date range</mat-label>
    <mat-date-range-input [formGroup]="getDateRange()" [rangePicker]="picker" >
      <input matStartDate formControlName="start" placeholder="Start date">
      <input matEndDate formControlName="end" placeholder="End date" (dateChange)="filterLogs()">
    </mat-date-range-input>
    <mat-hint>MM/DD/YYYY – MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>
  
  </mat-form-field>
  
    <mat-slide-toggle [checked]="onlyAlarms" (change)="filterLogsAlarm()">Samo alarmi</mat-slide-toggle>
  
</form>

<button mat-raised-button color="primary" (click)="downloadAsPDF()" class="bt-dwnl"> <mat-icon>download</mat-icon> <mat-icon>document_scanner</mat-icon></button>
<table mat-table [dataSource]="logs" >
    <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->
  <!-- Name Column -->
  <ng-container matColumnDef="house">
    <th mat-header-cell *matHeaderCellDef> Kuca </th>
    <td mat-cell *matCellDef="let element" > {{element.house}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="device">
    <th mat-header-cell *matHeaderCellDef> Uredjaj </th>
    <td mat-cell *matCellDef="let element"> {{element.device}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="exactTime">
    <th mat-header-cell *matHeaderCellDef> Vreme </th>
    <td mat-cell *matCellDef="let element"> {{element.exactTime}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="receivedValue">
    <th mat-header-cell *matHeaderCellDef> Vrednost </th>
    <td mat-cell *matCellDef="let element" >
        <div [ngClass]="{alarm:element.alarm}">
        {{element.receivedValue}}
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
</table>

